{"version":3,"sources":["webpack:///src/pages/cart/Cart.vue","webpack:///./src/pages/cart/Cart.vue?2b5f","webpack:///./src/pages/cart/Cart.vue"],"names":["Cart","data","isCheckAll","ids","list","total","promotion","goods_pmt","order_pmt","created","this","cartList","computed","checked","get","arr","i","is_select","push","id","set","val","length","k","$set","methods","showDetail","goodsId","$router","path","query","goods_id","minus","nums","setNums","add","products","stock","_this","$api","setCartNum","token","GLOBAL","getStorage","res","status","_list","formatMoney","amount","promotion_list","concat","toConsumableArray_default","_this2","arguments","undefined","toString","forEach","checkAll","e","target","_k","balance","cartIds","skip","touchStart","startX","touches","clientX","touchEnd","parentElement","currentTarget","endX","changedTouches","dataset","type","restSlide","checkSlide","listItems","document","querySelectorAll","deleteItem","_this3","index","removeCart","$dialog","toast","mes","msg","time","icon","splice","cart_Cart","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","color","_l","item","key","data-type","staticStyle","padding","position","on","!touchstart","$event","!touchend","directives","name","rawName","value","expression","domProps","Array","isArray","_i","change","$$a","$$el","$$c","$$v","$$i","slice","for","_v","src","image_path","click","_s","spes_desc","price","input","composing","shape","_e","data-index","_m","nativeOn","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.4429d327aede1344faae.js","sourcesContent":["<template>\n    <div class=\"cart\">\n        <div class=\"cartlist\" v-if=\"list.length\">\n            <ul color=\"#ff3b44\">\n                <li class=\"list-item\" :val=\"item.id\" v-for=\"(item, index) in list\" :key=\"index\" data-type=\"0\">\n                    <div class=\"list-box\" style=\"padding: .15rem;position: relative;\" @touchstart.capture=\"touchStart\" @touchend.capture=\"touchEnd\">\n                        <div class=\"check-box\">\n                            <input type=\"checkbox\" class=\"input_check\" name=\"box\" :id=\"item.id\" :value=\"item.id\" v-model=\"checked\"><label :for=\"item.id\"></label>\n                        </div>\n                        <img :src=\"item.products.image_path\" class=\"goodsimg\" @click=\"showDetail(item.products.goods_id)\">\n                        <div class=\"list-body\">\n                            <h3 class=\"goodsname\" @click=\"showDetail(item.products.goods_id)\">{{ item.products.name }}</h3>\n                            <p class=\"standard\" @click=\"showDetail(item.products.goods_id)\">{{ item.products.spes_desc }}</p>\n                            <ul class=\"btn-numbox\">\n                                <li>\n                                <p class=\"price\" @click=\"showDetail(item.products.goods_id)\">￥{{ item.products.price }}</p>\n                                </li>\n                                <li class=\"spinner\">\n                                    <ul class=\"count\">\n                                        <li @click=\"minus(item.id,item.nums)\"><button id=\"num-jian\" class=\"num-jian\">-</button></li>\n                                        <li><input type=\"text\" class=\"input-num\" id=\"input-num\" v-model=\"item.nums\" /></li>\n                                        <li @click=\"add(item.id,item.nums)\"><button id=\"num-jia\" class=\"num-jia\">+</button></li>\n                                    </ul>\n                                </li>\n                            </ul>\n                            <div v-if=\"item.products.promotion_list\">\n                                <div v-for=\"(val, key) in item.products.promotion_list\" :key=\"key\">\n                                    <yd-badge shape=\"square\" type=\"danger\" v-if=\"val.type\">{{ val.name }}</yd-badge>\n                                    <yd-badge shape=\"square\" type=\"square\" v-else>{{ val.name }}</yd-badge>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"delete\" @click=\"deleteItem\" :data-index=\"index\">删除</div>\n                </li>\n            </ul>\n        </div>\n        <div class=\"cartlist data-none\" v-else>\n            空空如也，快去挑选喜欢的商品吧~\n        </div>\n        <div class=\"cartfooter-top\" v-if=\"list.length\">\n            <div class=\"cartfooter-left-price\" v-if=\"promotion.length !== 0\">\n                <div class=\"content-header\">\n                    <p>促销</p>\n                </div>\n                <div v-for=\"(val, key) in promotion\" :key=\"key\">\n                    <yd-badge shape=\"square\" type=\"danger\" v-if=\"val.type === 2\">{{ val.name }}</yd-badge>\n                    <yd-badge shape=\"square\" type=\"square\" v-else>{{ val.name }}</yd-badge>\n                </div>\n            </div>\n            <div class=\"cartfooter-right-price\">\n                <p>商品优惠：<span class=\"price\">￥{{ goods_pmt || 0 }}</span></p>\n                <p>订单优惠：<span class=\"price\">￥{{ order_pmt || 0 }}</span></p>\n            </div>\n        </div>\n        <div class=\"cartfooter\">\n            <div class=\"cartfooter-left\">\n                <!--<yd-checkbox v-model=\"isCheckAll\" shape=\"circle\" color=\"#ff3b44\" :change=\"checkAll\" v-if=\"list.length\"></yd-checkbox>-->\n                <div class=\"check-box\" v-if=\"list.length\">\n                    <input type=\"checkbox\" id=\"allcheck\" class=\"input_check\" v-model=\"isCheckAll\" @click=\"checkAll($event)\"><label for=\"allcheck\"></label><span>全选</span>\n                </div>\n                <div class=\"cartfooter-left-price\">\n                    <p>合计：<span class=\"price\">￥{{ total || 0 }}</span></p>\n                    <p class=\"annotation\">不包含运费</p>\n                </div>\n            </div>\n            <div class=\"cartfooter-btn\">\n                <yd-button type=\"danger\" @click.native=\"balance\" v-if=\"ids.length\">去结算</yd-button>\n                <yd-button type=\"disabled\" disabled v-else>去结算</yd-button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    data () {\n        return {\n            isCheckAll: true, // 默认全选\n            ids: [], // 选中的商品列表\n            list: [], // 购物车列表\n            total: '', // 商品总金额\n            promotion: [], // 促销信息\n            goods_pmt: '', // 商品优惠\n            order_pmt: '' // 订单优惠\n        }\n    },\n    created () {\n        this.cartList()\n    },\n    // 数据改变自动执行此方法\n    computed: {\n        // 选中的购物车商品id\n        checked: {\n            get () {\n                let arr = []\n                for (let i in this.list) {\n                    if (this.list[i].is_select) {\n                        arr.push(this.list[i].id)\n                    }\n                }\n                return arr\n            },\n            set (val) {\n                if (val.length) {\n                    if (val.length === this.list.length) {\n                        this.isCheckAll = true\n                    } else {\n                        this.isCheckAll = false\n                    }\n                    this.cartList(val)\n                } else {\n                    this.ids = []\n                    for (let i in this.list) {\n                        this.list[i].is_select = false\n                    }\n                    this.total = '0.00'\n                    this.goods_pmt = '0.00'\n                    this.order_pmt = '0.00'\n                    this.isCheckAll = false\n                    for (let k in this.promotion) {\n                        this.$set(this.promotion[k], 'type', 1)\n                    }\n                }\n            }\n        }\n    },\n    methods: {\n        // 查看商品详情\n        showDetail (goodsId) {\n            this.$router.push({path: '/goodsdetail', query: {goods_id: goodsId}})\n        },\n        // 商品数量减\n        minus (id, nums) {\n            this.setNums(id, --nums)\n        },\n        // 商品数量加\n        add (id, nums) {\n            // 购买数量不能大于库存数量\n            for (let k in this.list) {\n                if (this.list[k].id === id) {\n                    if (nums < this.list[k].products.stock) {\n                        this.setNums(id, ++nums)\n                    } else {\n                        return false\n                    }\n                }\n            }\n        },\n        // 设置商品数量\n        setNums (id, nums) {\n            this.$api.setCartNum({\n                token: this.GLOBAL.getStorage('user_token'),\n                id: id,\n                nums: nums\n            }, res => {\n                if (res.status) {\n                    const _list = res.data.list\n                    this.total = this.GLOBAL.formatMoney(res.data.amount, 2, '')\n                    this.promotion = res.data.promotion_list\n                    this.goods_pmt = this.GLOBAL.formatMoney(res.data.goods_pmt, 2, '')\n                    this.order_pmt = this.GLOBAL.formatMoney(res.data.order_pmt, 2, '')\n                    this.list = [..._list]\n                }\n            })\n        },\n        // 获取购物车数据\n        cartList (ids = []) {\n            let data = {}\n            if (ids.length) {\n                data['ids'] = ids.toString()\n                data['display'] = 'all'\n            }\n            this.$api.cartList(data, res => {\n                if (res.status) {\n                    const _list = res.data.list\n                    let arr = []\n                    _list.forEach(val => {\n                        if (val.is_select) arr.push(val.id)\n                    })\n                    this.ids = arr\n                    this.total = this.GLOBAL.formatMoney(res.data.amount, 2, '')\n                    this.promotion = res.data.promotion_list\n                    this.goods_pmt = this.GLOBAL.formatMoney(res.data.goods_pmt, 2, '')\n                    this.order_pmt = this.GLOBAL.formatMoney(res.data.order_pmt, 2, '')\n                    this.list = [..._list]\n                }\n            })\n        },\n        // 监听全选\n        checkAll (e) {\n            if (e.target.checked) {\n                // 全选\n                this.isCheckAll = true\n                let arr = []\n                for (let k in this.list) {\n                    arr.push(this.list[k].id)\n                }\n                this.ids = arr\n                this.cartList(this.ids)\n            } else {\n                // 全不选\n                this.ids = []\n                for (let i in this.list) {\n                    this.list[i].is_select = false\n                }\n                this.total = '0.00'\n                this.goods_pmt = '0.00'\n                this.order_pmt = '0.00'\n                this.isCheckAll = false\n                for (let k in this.promotion) {\n                    this.$set(this.promotion[k], 'type', 1)\n                }\n            }\n        },\n        // 去结算\n        balance () {\n            this.$router.push({path: '/firmorder', query: {cartIds: this.ids.toString()}})\n        },\n        // 跳转\n        skip () {\n        },\n        // 滑动开始\n        touchStart (e) {\n            // 记录初始位置\n            this.startX = e.touches[0].clientX\n        },\n        // 滑动结束\n        touchEnd (e) {\n            // 当前滑动的父级元素\n            let parentElement = e.currentTarget.parentElement\n            // 记录结束位置\n            this.endX = e.changedTouches[0].clientX\n            // 左滑\n            if (parentElement.dataset.type === '0' && this.startX - this.endX > 30) {\n                this.restSlide()\n                parentElement.dataset.type = 1\n            }\n            // 右滑\n            if (parentElement.dataset.type === '1' && this.startX - this.endX < -30) {\n                this.restSlide()\n                parentElement.dataset.type = 0\n            }\n            this.startX = 0\n            this.endX = 0\n        },\n        // 判断当前是否有滑块处于滑动状态\n        checkSlide () {\n            let listItems = document.querySelectorAll('.list-item')\n            for (let i = 0; i < listItems.length; i++) {\n                if (listItems[i].dataset.type === '1') {\n                    return true\n                }\n            }\n            return false\n        },\n        // 复位滑动状态\n        restSlide () {\n            let listItems = document.querySelectorAll('.list-item')\n            // 复位\n            for (let i = 0; i < listItems.length; i++) {\n                listItems[i].dataset.type = 0\n            }\n        },\n        // 删除\n        deleteItem (e) {\n            // 当前索引\n            let index = e.currentTarget.dataset.index\n            this.$api.removeCart({\n                ids: this.list[index].id\n            }, res => {\n                if (res.status) {\n                    this.$dialog.toast({mes: res.msg, time: 1500, icon: 'success'})\n                    // 复位\n                    this.restSlide()\n                    // 删除\n                    this.list.splice(index, 1)\n                    let arr = []\n                    for (let k in this.list) {\n                        arr.push(this.list[k].id)\n                    }\n                    this.ids = arr\n                    this.cartList(this.ids)\n                }\n            })\n        }\n    }\n}\n</script>\n\n<style type=\"text/css\">\n    .check-box{\n        float: left;\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        height: 100%;\n        padding: 0 .1rem;\n    }\n    .input_check{\n        display: none;\n    }\n    .input_check + label {\n        width: 20px;\n        height: 20px;\n    }\n    .input_check:checked + label:before {\n        top: 4px;\n        left: 4px;\n        width: 20px;\n        height: 20px;\n    }\n    .input_check+label {\n        background-color: #FFF;\n        border: 1px solid #ccc;\n        padding: 9px;\n        border-radius: 1000px;\n        display: inline-block;\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n    }\n    .input_check:checked+label {\n        background-color: #ECF2F7;\n        border: 1px solid #F43530;\n        color: #243441\n    }\n\n    .input_check:checked+label:before {\n        content: ' ';\n        border-radius: 100px;\n        position: absolute;\n        background: #F43530;\n        display: none;\n        top: 3px;\n        left: 3px;\n        width: 12px;\n        height: 12px\n    }\n\n    .input_check:checked+label:before {\n        content: ' ';\n        display: block\n    }\n    .cartfooter-left .check-box span{\n        float: right;\n        margin-left: .2rem;\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cart/Cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[(_vm.list.length)?_c('div',{staticClass:\"cartlist\"},[_c('ul',{attrs:{\"color\":\"#ff3b44\"}},_vm._l((_vm.list),function(item,index){return _c('li',{key:index,staticClass:\"list-item\",attrs:{\"val\":item.id,\"data-type\":\"0\"}},[_c('div',{staticClass:\"list-box\",staticStyle:{\"padding\":\".15rem\",\"position\":\"relative\"},on:{\"!touchstart\":function($event){return _vm.touchStart($event)},\"!touchend\":function($event){return _vm.touchEnd($event)}}},[_c('div',{staticClass:\"check-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checked),expression:\"checked\"}],staticClass:\"input_check\",attrs:{\"type\":\"checkbox\",\"name\":\"box\",\"id\":item.id},domProps:{\"value\":item.id,\"checked\":Array.isArray(_vm.checked)?_vm._i(_vm.checked,item.id)>-1:(_vm.checked)},on:{\"change\":function($event){var $$a=_vm.checked,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checked=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checked=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checked=$$c}}}}),_c('label',{attrs:{\"for\":item.id}})]),_vm._v(\" \"),_c('img',{staticClass:\"goodsimg\",attrs:{\"src\":item.products.image_path},on:{\"click\":function($event){_vm.showDetail(item.products.goods_id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"list-body\"},[_c('h3',{staticClass:\"goodsname\",on:{\"click\":function($event){_vm.showDetail(item.products.goods_id)}}},[_vm._v(_vm._s(item.products.name))]),_vm._v(\" \"),_c('p',{staticClass:\"standard\",on:{\"click\":function($event){_vm.showDetail(item.products.goods_id)}}},[_vm._v(_vm._s(item.products.spes_desc))]),_vm._v(\" \"),_c('ul',{staticClass:\"btn-numbox\"},[_c('li',[_c('p',{staticClass:\"price\",on:{\"click\":function($event){_vm.showDetail(item.products.goods_id)}}},[_vm._v(\"￥\"+_vm._s(item.products.price))])]),_vm._v(\" \"),_c('li',{staticClass:\"spinner\"},[_c('ul',{staticClass:\"count\"},[_c('li',{on:{\"click\":function($event){_vm.minus(item.id,item.nums)}}},[_c('button',{staticClass:\"num-jian\",attrs:{\"id\":\"num-jian\"}},[_vm._v(\"-\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.nums),expression:\"item.nums\"}],staticClass:\"input-num\",attrs:{\"type\":\"text\",\"id\":\"input-num\"},domProps:{\"value\":(item.nums)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"nums\", $event.target.value)}}})]),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){_vm.add(item.id,item.nums)}}},[_c('button',{staticClass:\"num-jia\",attrs:{\"id\":\"num-jia\"}},[_vm._v(\"+\")])])])])]),_vm._v(\" \"),(item.products.promotion_list)?_c('div',_vm._l((item.products.promotion_list),function(val,key){return _c('div',{key:key},[(val.type)?_c('yd-badge',{attrs:{\"shape\":\"square\",\"type\":\"danger\"}},[_vm._v(_vm._s(val.name))]):_c('yd-badge',{attrs:{\"shape\":\"square\",\"type\":\"square\"}},[_vm._v(_vm._s(val.name))])],1)})):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"delete\",attrs:{\"data-index\":index},on:{\"click\":_vm.deleteItem}},[_vm._v(\"删除\")])])}))]):_c('div',{staticClass:\"cartlist data-none\"},[_vm._v(\"\\n        空空如也，快去挑选喜欢的商品吧~\\n    \")]),_vm._v(\" \"),(_vm.list.length)?_c('div',{staticClass:\"cartfooter-top\"},[(_vm.promotion.length !== 0)?_c('div',{staticClass:\"cartfooter-left-price\"},[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.promotion),function(val,key){return _c('div',{key:key},[(val.type === 2)?_c('yd-badge',{attrs:{\"shape\":\"square\",\"type\":\"danger\"}},[_vm._v(_vm._s(val.name))]):_c('yd-badge',{attrs:{\"shape\":\"square\",\"type\":\"square\"}},[_vm._v(_vm._s(val.name))])],1)})],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"cartfooter-right-price\"},[_c('p',[_vm._v(\"商品优惠：\"),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.goods_pmt || 0))])]),_vm._v(\" \"),_c('p',[_vm._v(\"订单优惠：\"),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.order_pmt || 0))])])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"cartfooter\"},[_c('div',{staticClass:\"cartfooter-left\"},[(_vm.list.length)?_c('div',{staticClass:\"check-box\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isCheckAll),expression:\"isCheckAll\"}],staticClass:\"input_check\",attrs:{\"type\":\"checkbox\",\"id\":\"allcheck\"},domProps:{\"checked\":Array.isArray(_vm.isCheckAll)?_vm._i(_vm.isCheckAll,null)>-1:(_vm.isCheckAll)},on:{\"click\":function($event){_vm.checkAll($event)},\"change\":function($event){var $$a=_vm.isCheckAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isCheckAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isCheckAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isCheckAll=$$c}}}}),_c('label',{attrs:{\"for\":\"allcheck\"}}),_c('span',[_vm._v(\"全选\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"cartfooter-left-price\"},[_c('p',[_vm._v(\"合计：\"),_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.total || 0))])]),_vm._v(\" \"),_c('p',{staticClass:\"annotation\"},[_vm._v(\"不包含运费\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"cartfooter-btn\"},[(_vm.ids.length)?_c('yd-button',{attrs:{\"type\":\"danger\"},nativeOn:{\"click\":function($event){return _vm.balance($event)}}},[_vm._v(\"去结算\")]):_c('yd-button',{attrs:{\"type\":\"disabled\",\"disabled\":\"\"}},[_vm._v(\"去结算\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content-header\"},[_c('p',[_vm._v(\"促销\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-99600b66\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cart/Cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-99600b66\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Cart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-99600b66\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cart/Cart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}